{% extends "layout.html" %}
{% block title %}Index{% endblock %}
{% block content %}
<div>
    <div>
        {% if badfile %}
        <div class="error">
            <h4>Error</h4>
            <p>Input file was invalid</p>
        </div>
        {% endif %}

        <form method="post" enctype="multipart/form-data" action="/upload">
            <label>Test Upload</label>
            <br>
            <br>
            <div id="drop-zone"
                  ondrop="dropHandler(event);"
                  ondragover="dragOverHandler(event);">
                <p>Drag one or more files to this <i>drop zone</i>.</p>
            </div>

           <input id="fileinp" type="file" name="file" accept=".html, .htm" />
            <br>
            <br>
            <input class="upload-button" type="submit" value="Upload" />
       </form>
    </div>
</div>
<div id="history">
    <h3>History</h3>

    <table class="hist-table">
        {% for ttype in hist %}
        <tr class="hist-table-column">
            <td class="hist-table-header">{{ttype}}</td>
            {% for l in hist[ttype] %}
            <td class="hist-item">
                <a class="button-link" href="{{ '/test/'+l[0] }}" >{{ l[2] + ' - ' + l[1] }}</a>
            </td>
            {% endfor %}
        </tr>
        {% endfor %}

    </table>
</div>

<script src="/static/dad.js"></script>
{% endblock %}
